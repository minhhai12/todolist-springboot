<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <title>タスク編集</title>
    <!--Bootsrap 4 CDN-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!--Fontawesome CDN-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css"/>
</head>

<body>
<div class="container">
    <h1 style="margin-top: 50px;" align="center">タスク変更</h1>
    <form th:action="@{/task/update/{id}(id=*{id})}" th:method="post"
          id="task-form" name="task-form" th:object="${task}">
        <div class="form-group">
            <label class="control-label" style="margin-top: 50px;">タイトル</label> <input
                class="form-control" type="text" th:field="*{task_name}" />
        </div>

        <div class="form-group">
            <label class="control-label" for="startDate" style="margin-top: 20px;">開始日</label>
            <div class="input-group date" id="datetimepicker1" data-target-input="nearest">

                <input id="startDate" type="text" class="form-control datetimepicker-input"
                       data-target="#datetimepicker1" name="start_date" th:field="*{start_date}"/>
                <div class="input-group-append" data-target="#datetimepicker1"
                     data-toggle="datetimepicker">
                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                </div>


            </div>
        </div>

        <div class="form-group">
            <label class="control-label" for="finishDate" style="margin-top: 20px;">終了日</label>
            <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
                <input id="finishDate" type="text" class="form-control datetimepicker-input"
                       data-target="#datetimepicker2" name="end_date" th:field="*{end_date}"/>
                <div class="input-group-append" data-target="#datetimepicker2"
                     data-toggle="datetimepicker">
                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                </div>

            </div>
        </div>

        <div class="form-group">
            <label class="control-label" style="margin-top: 20px;">優先順位</label>
            <div>
                <select class="browser-default custom-select" th:field="*{priority}" name="priorityLevel">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </div>
        </div>

        <div class="pull-right form-row" style="margin-top: 30px">
            <div class="col-6" align="right">
            <button class="btn btn-info" type="submit" onclick="return confirm('Are you sure you want to update this item?');">保存</button></div>
            <div class="col-6"><button class="btn btn-secondary"
                    onclick="window.location.href='/task'" type="button">戻る</button></div>
        </div>

    </form>

</div>

<script type="text/javascript">
    $(function () {
        $('#datetimepicker1').datetimepicker({format: 'YYYY-MM-DD'});
    });
    $(function () {
        $('#datetimepicker2').datetimepicker({format: 'YYYY-MM-DD'});
    });

</script>

</body>
</html>